(function(){function h(c,b){if(null==b)return null;null==b.__id__&&(b.__id__=k++);var a;null==c.hx__closures__?c.hx__closures__={}:a=c.hx__closures__[b.__id__];null==a&&(a=function(){return a.method.apply(a.scope,arguments)},a.scope=c,a.method=b,c.hx__closures__[b.__id__]=a);return a}var f=function(){return e.Boot.__string_rec(this,"")},a={__constructs__:["LEFT","RIGHT","UP","DOWN"],LEFT:["LEFT",0]};a.LEFT.toString=f;a.LEFT.__enum__=a;a.RIGHT=["RIGHT",1];a.RIGHT.toString=f;a.RIGHT.__enum__=a;a.UP=
["UP",2];a.UP.toString=f;a.UP.__enum__=a;a.DOWN=["DOWN",3];a.DOWN.toString=f;a.DOWN.__enum__=a;f=function(){};f.main=function(){new g};var g=function(){var c=this;this.direction=a.RIGHT;this.canvas=e.Browser.document.getElementById("snakeCanvas");if(null!=this.canvas){this.context=this.canvas.getContext("2d");if(null==this.context)throw"Error accessing canvas2d context...";this.width=this.canvas.width;this.height=this.canvas.height;this.cellWidth=10;this.reset();e.Browser.document.onkeydown=function(b){b=
b.keyCode;37==b&&c.direction!=a.RIGHT?c.direction=a.LEFT:38==b&&c.direction!=a.DOWN?c.direction=a.UP:39==b&&c.direction!=a.LEFT?c.direction=a.RIGHT:40==b&&c.direction!=a.UP&&(c.direction=a.DOWN)};e.Browser.window.setInterval(h(this,this.update),66)}else e.Browser.window.alert("Oh noes! Something's not right here...")};g.prototype={hasCollision:function(c,a,d){for(var e=0;e<d.length;){var f=d[e];++e;if(f.x==c&&f.y==a)return!0}return!1},drawCell:function(c,a){this.context.fillStyle="white";this.context.fillRect(c*
this.cellWidth,a*this.cellWidth,this.cellWidth,this.cellWidth);this.context.strokeStyle="gray";this.context.strokeRect(c*this.cellWidth,a*this.cellWidth,this.cellWidth,this.cellWidth)},update:function(){this.context.fillStyle="#112211";this.context.fillRect(0,0,this.width,this.height);var a=this.bodySegments[0].x,b=this.bodySegments[0].y;switch(this.direction[1]){case 1:a++;break;case 0:a--;break;case 2:b--;break;case 3:b++}if(-1==a||a==this.width/this.cellWidth||-1==b||b==this.height/this.cellWidth||
this.hasCollision(a,b,this.bodySegments))this.reset();else{var d;a==this.food.x&&b==this.food.y?(d={x:a,y:b},this.createFood(),this.score++):(d=this.bodySegments.pop(),d.x=a,d.y=b);this.bodySegments.unshift(d);a=0;for(b=this.bodySegments;a<b.length;)d=b[a],++a,this.drawCell(d.x,d.y);this.drawCell(this.food.x,this.food.y);this.context.fillText("Score: "+this.score,5,this.height-5)}},createFood:function(){this.food={x:Math.round(Math.random()*(this.width-this.cellWidth)/this.cellWidth),y:Math.round(Math.random()*
(this.height-this.cellWidth)/this.cellWidth)}},createBody:function(){for(var a=[],b=0;5>b;){var d=b++;a.push({x:5-d,y:0})}this.bodySegments=a},reset:function(){this.score=0;this.direction=a.RIGHT;this.createBody();this.createFood()}};var e={Browser:function(){}},k=0;Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};e.Browser.window=
"undefined"!=typeof window?window:null;e.Browser.document="undefined"!=typeof window?window.document:null;f.main()})();
